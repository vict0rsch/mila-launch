# mila-launch

Utility to launch SLURM jobs on Mila's cluster. It's not a package, it's not maintained, it's just some inspiration for you. Make PRs if you want but I won't fix bugs.

Should still mostly work ðŸ™ƒ

Check [LAUNCH.md](./LAUNCH.md) for exact instructions and tutorials.


## Dependencies

`launch.py` expects `yaml` and `git` to be available. If you don't have them in your current stack:

```
$ pip install PyYAML GitPython
```

## Try it

1. Clone this repo
2. Copy the important things into yours
   1. You should have `config/jobs/` and `config/templates/` folders with the content of this repo
      1. It's fine if you have other things
   2. Copy `launch.py` in your own repo's root directorty
      1. If you want to put it elsewhere, you will have to change the definition of `ROOT` in `launch.py`
      2. For instance if you put it in `$root/mila/launch.py` then `ROOT` should be `Path(__file__).resolve().parent.parent` (notice the second `.parent`)

It should work out of the box:

```
$ python launch.py foo.bar=21 --jobs=example-jobs --cpus=1
```

## Adapt it

1. Adapt the `.sh` templates in `config/templates/`
2. Change the default config values in `config/templates/launch.conf.yaml`
   1. In particular, change `script_path` to your own script instead of `launch_main_demo.py`
3. Code whatever you want in `launch.py` ðŸ˜‰

Ask for help with `python launch.py --help`.

(*note*: `LAUNCH.md` was generated by `python launch.py --help-md > LAUNCH.md`, it reads `config/templates/help.md` and populates it with `config/jobs/example-jobs.yaml`)
